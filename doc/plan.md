# Monitoring System 작업 계획

## 📋 Phase 2 - 핵심 기능 구현

### ✅ Phase 2-3. CPU/메모리 기록 차트 (SQLite 기반)
- [x] SQLite metrics 테이블 생성
- [x] save_metrics() 함수 구현
- [x] get_metrics() 함수 구현 (시간 범위 조회)
- [x] ResourceChart.jsx 컴포넌트 구현
- [x] Recharts 라이브러리 통합
- [x] 리소스 모니터링 탭에 차트 표시
- **완료일:** 2025-11-22
- **상태:** ✅ 완료

### ✅ Phase 2-4. 플러그인 시스템 아키텍처
- [x] PluginBase 추상 클래스 설계
- [x] PluginLoader 동적 로딩 시스템
- [x] 플러그인 설정 스키마 시스템
- [x] 플러그인 액션 시스템
- [x] 플러그인 설정 저장/로드 (SQLite)
- [x] 플러그인 자동 로드 (서버 시작 시)
- [x] 프론트엔드 플러그인 관리 UI
- **완료일:** 2025-11-22
- **상태:** ✅ 완료

### ✅ Phase 2-5. 펠월드 서버 RCON 플러그인
- [x] RCON 플러그인 구현 (범용)
- [x] Palworld REST API 플러그인 구현
- [x] 서버 정보 조회
- [x] 플레이어 관리 (강퇴/차단/해제)
- [x] 공지사항 전송
- [x] 서버 제어 (저장/종료)
- [x] 조작 탭 UI 구현 (PalworldControl.jsx)
- [x] Basic Auth 인증 처리
- [x] API 필드명 수정 (playerId)
- **완료일:** 2025-11-22
- **상태:** ✅ 완료

### ⏸️ Phase 2-6. PowerShell 에이전트 시스템 (선택)
- [ ] 에이전트 아키텍처 설계
- [ ] PowerShell 스크립트 실행 엔진
- [ ] 에이전트-서버 통신 프로토콜
- [ ] 원격 서버 모니터링
- [ ] 에이전트 상태 관리
- **상태:** ⏸️ Pending (선택 사항)

---

## 🎯 추가 완료 작업

### ✅ 하이브리드 아키텍처 구현
- [x] 개발 모드 / 프로덕션 모드 분리
- [x] Flask 프론트엔드 서빙 기능
- [x] build.bat 빌드 스크립트
- [x] run-production.bat 실행 스크립트
- [x] PRODUCTION 환경 변수 추가
- [x] README 문서 업데이트
- **완료일:** 2025-11-22
- **상태:** ✅ 완료

### ✅ 문서화
- [x] README.md 전면 업데이트
- [x] API 통신 규칙 문서 (api-conventions.md)
- [x] 아키텍처 다이어그램
- [x] 데이터베이스 스키마 문서
- [x] 플러그인 개발 가이드
- **완료일:** 2025-11-22
- **상태:** ✅ 완료

---

## 📝 다음 작업 (Phase 3)

### ✅ 환경 변수 설정 개선
- [x] Palworld shutdown 대기 시간 환경 변수화
- [x] PALWORLD_SHUTDOWN_WAIT_TIME 추가 (.env.example)
- [x] palworld.py에서 환경 변수 읽기
- **완료일:** 2025-11-22
- **상태:** ✅ 완료

### ✅ 인증 및 권한 개선
- [x] 자동 guest 로그인 제거
- [x] 세션 확인 API 추가 (/api/session)
- [x] 로그인 페이지로 리다이렉트
- [x] guest 권한으로 불가능한 기능 UI에서 숨김
- [x] 시작 버튼 admin만 표시
- [x] 프로그램 추가 버튼 admin만 표시
- **완료일:** 2025-11-22
- **상태:** ✅ 완료

### ✅ 프로덕션 빌드 및 실행 스크립트 수정
- [x] .env 파일에 PRODUCTION 설정 추가
- [x] run-production.bat 수정 (.env 파일 업데이트)
- [x] run-dev.bat 추가 (개발 모드 실행)
- [x] deploy.bat 추가 (빌드 + 배포 통합)
- [x] 서버 종료 시 .env 파일 복원
- **완료일:** 2025-11-22
- **상태:** ✅ 완료

### 🔜 대기 중인 작업
> 사용자 지시 대기 중

---

## 📊 진행 상황

- **Phase 2 완료:** 3/4 (75%)
- **전체 완료:** Phase 1 (100%) + Phase 2 (75%)
- **마지막 업데이트:** 2025-11-22 14:07

---

## 📌 작업 규칙

1. **새로운 작업 추가 시:**
   - 이 파일에 체크리스트 추가
   - 작업 시작 전 상태 업데이트
   - 완료 시 체크 표시 및 완료일 기록

2. **체크리스트 형식:**
   ```markdown
   - [ ] 미완료 작업
   - [x] 완료된 작업
   ```

3. **상태 표시:**
   - ✅ 완료
   - 🔄 진행 중
   - ⏸️ Pending
   - ❌ 취소/보류

4. **문서 동기화:**
   - 주요 작업 완료 시 README.md 업데이트
   - API 변경 시 api-conventions.md 업데이트
