# Prometheus 설정 파일
# 
# 사용법:
# 1. Prometheus 다운로드: https://prometheus.io/download/
# 2. prometheus.yml을 Prometheus 디렉토리에 복사
# 3. ./prometheus --config.file=prometheus.yml
# 4. http://localhost:9090 접속

global:
  scrape_interval: 15s      # 메트릭 수집 간격 (기본: 15초)
  evaluation_interval: 15s  # 규칙 평가 간격
  external_labels:
    monitor: 'monitoring-system'

# 경고 규칙 파일
rule_files:
  # - "alert_rules.yml"

# 스크래핑 설정
scrape_configs:
  # Prometheus 자체 메트릭
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  # 모니터링 애플리케이션 메트릭
  - job_name: 'monitoring-app'
    static_configs:
      - targets: ['localhost:8080']  # Flask 애플리케이션 포트
    metrics_path: '/metrics'          # 메트릭 엔드포인트
    scrape_interval: 5s               # 더 자주 수집 (5초)
    scrape_timeout: 5s

# 알림 설정 (선택사항)
# alerting:
#   alertmanagers:
#     - static_configs:
#         - targets:
#           - localhost:9093
